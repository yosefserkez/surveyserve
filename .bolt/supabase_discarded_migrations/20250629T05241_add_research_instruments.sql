/*
  # Add Research Instruments

  1. New Surveys
    - Adding 4 validated research instruments
    - Includes public domain and freely available assessments
    - Each instrument includes validated scoring algorithms

  2. Instruments Added
    - WHO-5 Well-Being Index
    - Perceived Stress Scale-10 (PSS-10)
    - Warwick-Edinburgh Mental Well-being Scale (WEMWBS)
    - Rosenberg Self-Esteem Scale (RSES)

  Note: These instruments are either public domain or freely available for research use.
  Please verify licensing requirements for your specific use case.
*/

-- WHO-5 Well-Being Index
INSERT INTO surveys (title, description, version, source, schema) VALUES (
  'WHO-5 Well-Being Index',
  'A short questionnaire consisting of 5 simple and non-invasive questions, which tap into the subjective well-being of the respondent. The WHO-5 is among the most widely used questionnaires assessing subjective psychological well-being.',
  '2.0',
  'World Health Organization (WHO), 1998. Bech P, Olsen LR, Kjoller M, Rasmussen NK. Measuring well-being rather than the absence of distress symptoms: a comparison of the SF-36 Mental Health subscale and the WHO-Five well-being scale. Int J Methods Psychiatr Res. 2003;12(2):85-91.',
  '{"questions":[{"id":"q1","text":"I have felt cheerful and in good spirits","type":"likert","options":[{"value":0,"label":"At no time"},{"value":1,"label":"Some of the time"},{"value":2,"label":"Less than half of the time"},{"value":3,"label":"More than half of the time"},{"value":4,"label":"Most of the time"},{"value":5,"label":"All of the time"}],"reverse_score":false,"timeframe":"Over the last two weeks"},{"id":"q2","text":"I have felt calm and relaxed","type":"likert","options":[{"value":0,"label":"At no time"},{"value":1,"label":"Some of the time"},{"value":2,"label":"Less than half of the time"},{"value":3,"label":"More than half of the time"},{"value":4,"label":"Most of the time"},{"value":5,"label":"All of the time"}],"reverse_score":false,"timeframe":"Over the last two weeks"},{"id":"q3","text":"I have felt active and vigorous","type":"likert","options":[{"value":0,"label":"At no time"},{"value":1,"label":"Some of the time"},{"value":2,"label":"Less than half of the time"},{"value":3,"label":"More than half of the time"},{"value":4,"label":"Most of the time"},{"value":5,"label":"All of the time"}],"reverse_score":false,"timeframe":"Over the last two weeks"},{"id":"q4","text":"I woke up feeling fresh and rested","type":"likert","options":[{"value":0,"label":"At no time"},{"value":1,"label":"Some of the time"},{"value":2,"label":"Less than half of the time"},{"value":3,"label":"More than half of the time"},{"value":4,"label":"Most of the time"},{"value":5,"label":"All of the time"}],"reverse_score":false,"timeframe":"Over the last two weeks"},{"id":"q5","text":"My daily life has been filled with things that interest me","type":"likert","options":[{"value":0,"label":"At no time"},{"value":1,"label":"Some of the time"},{"value":2,"label":"Less than half of the time"},{"value":3,"label":"More than half of the time"},{"value":4,"label":"Most of the time"},{"value":5,"label":"All of the time"}],"reverse_score":false,"timeframe":"Over the last two weeks"}],"scoring_rules":{"raw_score":{"type":"sum","questions":["q1","q2","q3","q4","q5"],"description":"Sum of all item scores (0-25)"},"percentage_score":{"type":"threshold","input":"raw_score","description":"Raw score multiplied by 4 to give percentage score (0-100)","formula":"raw_score * 4"},"wellbeing_level":{"type":"threshold","input":"percentage_score","thresholds":[{"min":0,"max":28,"label":"Poor well-being"},{"min":29,"max":50,"label":"Below average well-being"},{"min":51,"max":68,"label":"Average well-being"},{"min":69,"max":100,"label":"Good well-being"}],"description":"Categorical assessment of well-being level"},"clinical_concern":{"type":"flag","condition":"percentage_score <= 28","message":"Score indicates poor well-being and potential depression screening needed"}}}'::jsonb
);

-- Perceived Stress Scale-10 (PSS-10)
INSERT INTO surveys (title, description, version, source, schema) VALUES (
  'Perceived Stress Scale-10 (PSS-10)',
  'The Perceived Stress Scale (PSS) is a classic stress assessment instrument. The tool, while originally developed in 1983, remains a popular choice for helping us understand how different situations affect our feelings and our perceived stress.',
  '1.0',
  'Cohen, S., Kamarck, T., & Mermelstein, R. (1983). A global measure of perceived stress. Journal of Health and Social Behavior, 24(4), 385-396. Public Domain.',
  '{"questions":[{"id":"q1","text":"In the last month, how often have you been upset because of something that happened unexpectedly?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":false},{"id":"q2","text":"In the last month, how often have you felt that you were unable to control the important things in your life?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":false},{"id":"q3","text":"In the last month, how often have you felt nervous and stressed?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":false},{"id":"q4","text":"In the last month, how often have you felt confident about your ability to handle your personal problems?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":true},{"id":"q5","text":"In the last month, how often have you felt that things were going your way?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":true},{"id":"q6","text":"In the last month, how often have you found that you could not cope with all the things that you had to do?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":false},{"id":"q7","text":"In the last month, how often have you been able to control irritations in your life?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":true},{"id":"q8","text":"In the last month, how often have you felt that you were on top of things?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":true},{"id":"q9","text":"In the last month, how often have you been angered because of things that happened that were outside of your control?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":false},{"id":"q10","text":"In the last month, how often have you felt difficulties were piling up so high that you could not overcome them?","type":"likert","options":[{"value":0,"label":"Never"},{"value":1,"label":"Almost never"},{"value":2,"label":"Sometimes"},{"value":3,"label":"Fairly often"},{"value":4,"label":"Very often"}],"reverse_score":false}],"scoring_rules":{"total_score":{"type":"sum","questions":["q1","q2","q3","q4","q5","q6","q7","q8","q9","q10"],"description":"Sum of all items after reverse scoring (0-40)"},"stress_level":{"type":"threshold","input":"total_score","thresholds":[{"min":0,"max":13,"label":"Low stress"},{"min":14,"max":26,"label":"Moderate stress"},{"min":27,"max":40,"label":"High perceived stress"}],"description":"Categorical stress level assessment"},"clinical_concern":{"type":"flag","condition":"total_score >= 27","message":"High stress levels may warrant clinical attention"}}}'::jsonb
);

-- Warwick-Edinburgh Mental Well-being Scale (WEMWBS)
INSERT INTO surveys (title, description, version, source, schema) VALUES (
  'Warwick-Edinburgh Mental Well-being Scale (WEMWBS)',
  'The Warwick-Edinburgh Mental Well-being Scale (WEMWBS) is a scale of 14 positively worded items for assessing a population''s mental wellbeing. It was developed to enable the monitoring of mental wellbeing in the general population and the evaluation of projects, programmes and policies which aim to improve mental wellbeing.',
  '1.0',
  'Tennant, R., Hiller, L., Fishwick, R., Platt, S., Joseph, S., Weich, S., Parkinson, J., Secker, J., & Stewart-Brown, S. (2007). The Warwick-Edinburgh Mental Well-being Scale (WEMWBS): development and UK validation. Health and Quality of Life Outcomes, 5, 63. Freely available for use.',
  '{"questions":[{"id":"q1","text":"I''ve been feeling optimistic about the future","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}],"timeframe":"Below are some statements about feelings and thoughts. Please tick the box that best describes your experience of each over the last 2 weeks"},{"id":"q2","text":"I''ve been feeling useful","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q3","text":"I''ve been feeling relaxed","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q4","text":"I''ve been feeling interested in other people","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q5","text":"I''ve had energy to spare","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q6","text":"I''ve been dealing with problems well","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q7","text":"I''ve been thinking clearly","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q8","text":"I''ve been feeling good about myself","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q9","text":"I''ve been feeling close to other people","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q10","text":"I''ve been feeling confident","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q11","text":"I''ve been able to make up my own mind about things","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q12","text":"I''ve been feeling loved","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q13","text":"I''ve been interested in new things","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]},{"id":"q14","text":"I''ve been feeling cheerful","type":"likert","options":[{"value":1,"label":"None of the time"},{"value":2,"label":"Rarely"},{"value":3,"label":"Some of the time"},{"value":4,"label":"Often"},{"value":5,"label":"All of the time"}]}],"scoring_rules":{"total_score":{"type":"sum","questions":["q1","q2","q3","q4","q5","q6","q7","q8","q9","q10","q11","q12","q13","q14"],"description":"Total WEMWBS score (14-70)"},"wellbeing_level":{"type":"threshold","input":"total_score","thresholds":[{"min":14,"max":32,"label":"Low wellbeing"},{"min":33,"max":50,"label":"Below average wellbeing"},{"min":51,"max":59,"label":"Average wellbeing"},{"min":60,"max":70,"label":"High wellbeing"}],"description":"Mental wellbeing category"},"clinical_concern":{"type":"flag","condition":"total_score <= 32","message":"Low wellbeing score may indicate need for support"}}}'::jsonb
);

-- Rosenberg Self-Esteem Scale (RSES)
INSERT INTO surveys (title, description, version, source, schema) VALUES (
  'Rosenberg Self-Esteem Scale (RSES)',
  'The Rosenberg Self-Esteem Scale is a 10-item Likert scale with items answered on a four-point scale - from strongly agree to strongly disagree. It measures global self-worth by measuring both positive and negative feelings about the self.',
  '1.0',
  'Rosenberg, M. (1965). Society and the adolescent self-image. Princeton, NJ: Princeton University Press. Public Domain.',
  '{"questions":[{"id":"q1","text":"On the whole, I am satisfied with myself","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":false},{"id":"q2","text":"At times I think I am no good at all","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":true},{"id":"q3","text":"I feel that I have a number of good qualities","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":false},{"id":"q4","text":"I am able to do things as well as most other people","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":false},{"id":"q5","text":"I feel I do not have much to be proud of","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":true},{"id":"q6","text":"I certainly feel useless at times","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":true},{"id":"q7","text":"I feel that I''m a person of worth, at least on an equal plane with others","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":false},{"id":"q8","text":"I wish I could have more respect for myself","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":true},{"id":"q9","text":"All in all, I am inclined to feel that I am a failure","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":true},{"id":"q10","text":"I take a positive attitude toward myself","type":"likert","options":[{"value":3,"label":"Strongly agree"},{"value":2,"label":"Agree"},{"value":1,"label":"Disagree"},{"value":0,"label":"Strongly disagree"}],"reverse_score":false}],"scoring_rules":{"total_score":{"type":"sum","questions":["q1","q2","q3","q4","q5","q6","q7","q8","q9","q10"],"description":"Total self-esteem score (0-30)"},"self_esteem_level":{"type":"threshold","input":"total_score","thresholds":[{"min":0,"max":15,"label":"Low self-esteem"},{"min":16,"max":25,"label":"Normal self-esteem"},{"min":26,"max":30,"label":"High self-esteem"}],"description":"Self-esteem level category"},"low_self_esteem_flag":{"type":"flag","condition":"total_score <= 15","message":"Low self-esteem detected - may benefit from support"}}}'::jsonb
);

